(function(l){var g;var i={overlay:true,method:"GET"};var j="jsdoverlay",q="jsdcontent",b="jsdcontainer",f="jsdoading",n="jsdcbutton";var k="#jsdoverlay",m="#jsdcontainer";var a,p,h;l.fn.superDialog=function(r){g=l.extend(i,r);var s=this.is("form")?"submit":"click";a=l(document).height();p=l(window).height();h=l(window).width();l("body").on(s,this.selector,function(w){w.preventDefault();var v=l(this);c();if(v.is("a")){var t=v.attr("href");if(t=="#"){var u=l(v.attr("rel")).clone().show();o(u)}else{d(t,g.method)}}else{if(v.is("form")){d(v.attr("action"),v.attr("method"),v.serialize())}}})};var d=function(r,t,s){jQuery.ajax({type:(typeof t=="undefined")?"GET":t,url:r,data:s,dataType:"html",success:o})};var o=function(t){l(m).removeClass(f);l("#"+q).remove();l("<div/>").attr("id",q).addClass(q).html(t).appendTo(m);var r=l(m).width();var s=l(m).height();var u=e(r,s);l("<div/>").addClass(n).appendTo(m);l(m).css({width:60,height:60}).animate({width:r+"px",height:s+"px",left:u[0]+"px",top:u[1]+"px"},200);l("."+n).click(function(){l(k+", "+m).remove()})};var c=function(){var r=e(60,60);l(k+", "+m).remove();if(g.overlay){l("<div/>").attr("id",j).addClass(j).css("height",a).appendTo(document.body)}l("<div/>").attr("id",b).addClass(b+" "+f).css({left:r[0]+"px",top:r[1]+"px"}).appendTo(document.body);l(k).click(function(){l(k+", "+m).remove()})};var e=function(r,s){return[h/2-r/2,p/2-s/2]}})(jQuery);